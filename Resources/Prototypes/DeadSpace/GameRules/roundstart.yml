- type: startingGear
  id: UnitologGear
  storage:
    back:
    - SyringeExtractInfectorDead

- type: antag
  id: UniHead
  name: roles-antag-uni-head-name
  antagonist: true
  setPreference: true
  objective: roles-antag-uni-head-objective
  requirements:
    - !type:OverallPlaytimeRequirement
      time: 259200 # 72 hours

- type: antag
  id: Uni
  name: roles-antag-uni-name
  antagonist: true
  setPreference: true
  objective: roles-antag-uni-objective
  requirements:
    - !type:OverallPlaytimeRequirement
      time: 86400 # 24 hours

- type: antag
  id: UniEnslaved
  name: roles-antag-uni-enslaved-name
  antagonist: true
  setPreference: false
  objective: roles-antag-uni-enslaved-objective

- type: entity
  parent: BaseGameRule
  id: Unitology
  components:
  - type: GameRule
    minPlayers: 50
  - type: UnitologyRule
  - type: AntagSelection
    definitions:
    - prefRoles: [ UniHead ]
      fallbackRoles: [ Uni, UniEnslaved ]
      max: 1
      playerRatio: 15
      briefing:
        text: uni-head-role-greeting
        color: CornflowerBlue
        sound: "/Audio/DeadSpace/Necromorfs/unitolog_start.ogg"
      startingGear: UnitologGear
      components:
      - type: IntrinsicRadioTransmitter
        channels:
        - Unitolog
      - type: ActiveRadio
        channels:
        - Unitolog
      - type: IntrinsicRadioReceiver
      - type: Unitology
      - type: ImmunitetInfectionDead
      - type: UnitologyObeliskSpawnAbility
      - type: UnitologyHead
      - type: AutoImplant
        implants:
        - StorageImplant
        - DnaScramblerImplant
        - FreedomImplant
      - type: NpcFactionMember
        factions:
        - Necromorfs
      mindComponents:
      - type: UnitologyRole
        prototype: Uni
    - prefRoles: [ Uni ]
      fallbackRoles: [ UniHead, UniEnslaved ]
      max: 4
      playerRatio: 15
      briefing:
        text: uni-role-greeting
        color: CornflowerBlue
        sound: "/Audio/DeadSpace/Necromorfs/unitolog_start.ogg"
      startingGear: UnitologGear
      components:
      - type: IntrinsicRadioTransmitter
        channels:
        - Unitolog
      - type: ActiveRadio
        channels:
        - Unitolog
      - type: IntrinsicRadioReceiver
      - type: Unitology
      - type: ImmunitetInfectionDead
      - type: NpcFactionMember
        factions:
        - Necromorfs
      mindComponents:
      - type: UnitologyRole
        prototype: Uni
    - prefRoles: [ UniEnslaved ]
      fallbackRoles: [ UniHead, Uni ]
      max: 0
      min: 0
      briefing:
        text: uni-enslaved-role-greeting
        color: CornflowerBlue
        sound: "/Audio/DeadSpace/Necromorfs/unitolog_start.ogg"
      components:
      - type: IntrinsicRadioTransmitter
        channels:
        - Unitolog
      - type: ActiveRadio
        channels:
        - Unitolog
      - type: IntrinsicRadioReceiver
      - type: Unitology
      - type: ImmunitetInfectionDead
      - type: UnitologyObeliskSpawnAbility
      - type: NpcFactionMember
        factions:
        - Necromorfs
      mindComponents:
      - type: UnitologyRole
        prototype: UniEnslaved
